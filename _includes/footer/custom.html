<!-- start custom footer snippets -->

<script>
document.addEventListener("DOMContentLoaded", function () {
  const tocList = document.getElementById("custom-toc-list");
  if (!tocList) return;

  const headers = document.querySelectorAll("main h2, main h3");

  headers.forEach(header => {
    if (!header.id) {
      header.id = header.textContent.toLowerCase().replace(/\s+/g, '-');
    }

    const li = document.createElement("li");
    li.style.marginLeft = header.tagName === "H3" ? "1rem" : "0";

    const link = document.createElement("a");
    link.href = "#" + header.id;
    link.textContent = header.textContent;
    link.style.color = "#b3aaff";

    li.appendChild(link);
    tocList.appendChild(li);
  });
});
</script>

<!-- end custom footer snippets -->
